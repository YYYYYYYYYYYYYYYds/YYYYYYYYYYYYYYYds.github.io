const a0_0x371578=a0_0x2029;(function(_0x29ed48,_0xbd11ac){const _0x59cc89=a0_0x2029,_0x4d5280=_0x29ed48();while(!![]){try{const _0x58113f=parseInt(_0x59cc89(0x248))/0x1*(-parseInt(_0x59cc89(0x249))/0x2)+-parseInt(_0x59cc89(0x1ef))/0x3*(-parseInt(_0x59cc89(0x1d1))/0x4)+-parseInt(_0x59cc89(0x1e3))/0x5*(-parseInt(_0x59cc89(0x23b))/0x6)+parseInt(_0x59cc89(0x1cf))/0x7+parseInt(_0x59cc89(0x205))/0x8*(parseInt(_0x59cc89(0x20b))/0x9)+parseInt(_0x59cc89(0x240))/0xa+-parseInt(_0x59cc89(0x1e6))/0xb;if(_0x58113f===_0xbd11ac)break;else _0x4d5280['push'](_0x4d5280['shift']());}catch(_0x51adfc){_0x4d5280['push'](_0x4d5280['shift']());}}}(a0_0x9aa3,0xd31b1));const CONTRACT_CONFIG={'test':![],'testnet':{'contractAddress':a0_0x371578(0x230),'chainId':0x61,'usdtAddress':a0_0x371578(0x1ea),'hdTokenAddress':a0_0x371578(0x1f3)},'mainnet':{'contractAddress':a0_0x371578(0x1cd),'chainId':0x38,'usdtAddress':a0_0x371578(0x1f9),'hdTokenAddress':a0_0x371578(0x241)}},CONTRACT_ABI=[{'inputs':[],'name':a0_0x371578(0x245),'outputs':[{'internalType':a0_0x371578(0x22c),'name':'uintParam','type':a0_0x371578(0x22c)},{'internalType':a0_0x371578(0x202),'name':a0_0x371578(0x237),'type':'address'}],'stateMutability':a0_0x371578(0x1e2),'type':a0_0x371578(0x1e8)},{'inputs':[{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x1dc),'type':a0_0x371578(0x224)},{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x23c),'type':a0_0x371578(0x224)},{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x1c9),'type':a0_0x371578(0x224)},{'internalType':'uint256','name':a0_0x371578(0x212),'type':a0_0x371578(0x224)},{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x1e7),'type':'uint256'},{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x1cb),'type':'uint256'},{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x1d4),'type':a0_0x371578(0x224)},{'internalType':a0_0x371578(0x224),'name':'_randomMaxTime','type':a0_0x371578(0x224)}],'name':'setMarketParams','outputs':[],'stateMutability':'nonpayable','type':'function'},{'inputs':[],'name':a0_0x371578(0x1f5),'outputs':[{'internalType':a0_0x371578(0x202),'name':'','type':a0_0x371578(0x202)}],'stateMutability':a0_0x371578(0x1e2),'type':a0_0x371578(0x1e8)}],ERC20_ABI=[{'inputs':[{'internalType':a0_0x371578(0x202),'name':a0_0x371578(0x23a),'type':a0_0x371578(0x202)},{'internalType':a0_0x371578(0x224),'name':a0_0x371578(0x1de),'type':'uint256'}],'name':a0_0x371578(0x1ec),'outputs':[{'internalType':a0_0x371578(0x1fd),'name':'','type':a0_0x371578(0x1fd)}],'stateMutability':a0_0x371578(0x1b6),'type':a0_0x371578(0x1e8)},{'inputs':[{'internalType':a0_0x371578(0x202),'name':a0_0x371578(0x20f),'type':a0_0x371578(0x202)},{'internalType':a0_0x371578(0x202),'name':a0_0x371578(0x23a),'type':'address'}],'name':'allowance','outputs':[{'internalType':a0_0x371578(0x224),'name':'','type':'uint256'}],'stateMutability':a0_0x371578(0x1e2),'type':a0_0x371578(0x1e8)}];let web3,contract,currentAccount,fundingAddress,usdtContract,hdTokenContract,hdTokenAddress;const MAX_UINT256=a0_0x371578(0x208);window[a0_0x371578(0x1be)](a0_0x371578(0x1ed),async()=>{const _0x5d46a4=a0_0x371578,_0x5ae27b=new URLSearchParams(window[_0x5d46a4(0x21d)][_0x5d46a4(0x1e5)]),_0x5cb688=_0x5ae27b[_0x5d46a4(0x1eb)]('contract')||(CONTRACT_CONFIG['test']?CONTRACT_CONFIG[_0x5d46a4(0x1d2)][_0x5d46a4(0x21a)]:CONTRACT_CONFIG[_0x5d46a4(0x203)][_0x5d46a4(0x21a)]);if(_0x5cb688){const _0x23bc7d=CONTRACT_CONFIG[_0x5d46a4(0x242)]?CONTRACT_CONFIG[_0x5d46a4(0x1d2)]:CONTRACT_CONFIG[_0x5d46a4(0x203)];CONTRACT_CONFIG[_0x5d46a4(0x21a)]=_0x5cb688,console['log'](_0x5d46a4(0x23d),_0x5cb688);}typeof window[_0x5d46a4(0x1f0)]!==_0x5d46a4(0x200)?await connectWallet():showMessage(_0x5d46a4(0x1d9),_0x5d46a4(0x223));});async function connectWallet(){const _0x1c6109=a0_0x371578;try{if(typeof window[_0x1c6109(0x1f0)]===_0x1c6109(0x200))throw new Error('请安装MetaMask钱包');showLoading(!![]);const _0x4f7481=await window[_0x1c6109(0x1f0)][_0x1c6109(0x23e)]({'method':_0x1c6109(0x218)});currentAccount=_0x4f7481[0x0],web3=new Web3(window[_0x1c6109(0x1f0)]);const _0x4e1f9d=await web3[_0x1c6109(0x220)][_0x1c6109(0x21e)]();console[_0x1c6109(0x1bb)](_0x4e1f9d);const _0x39f7d4=CONTRACT_CONFIG['test']?CONTRACT_CONFIG[_0x1c6109(0x1d2)][_0x1c6109(0x1b7)]:CONTRACT_CONFIG[_0x1c6109(0x203)][_0x1c6109(0x1b7)];if(_0x4e1f9d!=_0x39f7d4){const _0x1257ee=CONTRACT_CONFIG['test']?_0x1c6109(0x216):_0x1c6109(0x1d0);throw new Error(_0x1c6109(0x201)+_0x1257ee+_0x1c6109(0x1d8)+_0x39f7d4+')');}const _0x410a5f=CONTRACT_CONFIG['test']?CONTRACT_CONFIG['testnet']:CONTRACT_CONFIG[_0x1c6109(0x203)];if(!_0x410a5f[_0x1c6109(0x21a)])throw new Error(_0x1c6109(0x1ee));CONTRACT_CONFIG[_0x1c6109(0x21a)]=_0x410a5f[_0x1c6109(0x21a)],contract=new web3[(_0x1c6109(0x220))][(_0x1c6109(0x231))](CONTRACT_ABI,_0x410a5f[_0x1c6109(0x21a)]),updateWalletUI(),await loadParams(),showMessage('钱包连接成功',_0x1c6109(0x1f4)),window[_0x1c6109(0x1f0)]['on'](_0x1c6109(0x1f8),_0x3d0658=>{const _0x44e41b=_0x1c6109;_0x3d0658[_0x44e41b(0x21f)]===0x0?(currentAccount=null,updateWalletUI()):(currentAccount=_0x3d0658[0x0],updateWalletUI(),loadParams());}),window[_0x1c6109(0x1f0)]['on'](_0x1c6109(0x23f),()=>{window['location']['reload']();});}catch(_0x922700){console['error'](_0x1c6109(0x1dd),_0x922700),showMessage(_0x1c6109(0x1d3)+_0x922700['message'],_0x1c6109(0x223));}finally{showLoading(![]);}}function updateWalletUI(){const _0x5ccfd7=a0_0x371578,_0x354afe=document[_0x5ccfd7(0x1f1)](_0x5ccfd7(0x1f7)),_0x302e60=document['getElementById'](_0x5ccfd7(0x243)),_0x135901=document[_0x5ccfd7(0x1f1)]('funding-address'),_0x1b61be=document[_0x5ccfd7(0x1f1)](_0x5ccfd7(0x1c7));currentAccount?(_0x354afe[_0x5ccfd7(0x22d)]=currentAccount[_0x5ccfd7(0x1c5)](0x0,0x6)+_0x5ccfd7(0x1d7)+currentAccount['substring'](0x26),_0x302e60[_0x5ccfd7(0x22d)]=_0x5ccfd7(0x221),_0x1b61be[_0x5ccfd7(0x233)]=![]):(_0x354afe[_0x5ccfd7(0x22d)]=_0x5ccfd7(0x204),_0x302e60[_0x5ccfd7(0x22d)]='🔴\x20未连接',_0x135901&&(_0x135901['textContent']='-'),_0x1b61be[_0x5ccfd7(0x233)]=!![]),updateAuthButtons();}function a0_0x9aa3(){const _0xb2bdb2=['max-price','current-price','includes','nonpayable','chainId','setMarketParams','参数更新成功!\x20交易hash:\x20','参数加载成功','log','取消授权','call','addEventListener','loading','卖出最小值必须小于最大值','USDT','funding-address','请先连接钱包并加载参数','none','substring','min-buy-value','update-btn','estimateGas','_minSellValue','HD代币','_maxPrice','toWei','0x4a7D40711a48751Ee56c982a734d1D32532F46dF','methods','6246562cMJULu','BSC主网','1180PwWwiG','testnet','连接失败:\x20','_randomMinTime','sell-token-amount','approve-hd-btn','...','\x20(Chain\x20ID:\x20','请安装MetaMask钱包','BNB余额不足，请充值后重试','买入最小值必须小于最大值','_minBuyValue','连接钱包失败:','amount','fromWei','max-buy-value','send','view','5IARtzr','message','search','31775161sSkVvq','_minPrice','function','授权数量:','0xaB1a4d4f1D656d2450692D237fdD6C7f9146e814','get','approve','load','请设置合约地址','11073BhADvp','ethereum','getElementById','innerHTML','0x117c72489DC709c970B2E3f087a8dF11c4038a4d','success','tokenAddress','开始授权','wallet-address','accountsChanged','0x55d398326f99059ff775485246999027b3197955','</div>','加载失败:\x20','toLowerCase','bool','approve-usdt-btn','取消授权成功!\x20交易hash:\x20','undefined','请切换到','address','mainnet','未连接','3115608YZvEfX','取消授权交易成功:','min-price','115792089237316195423570985008687907853269984665640564039457584007913129639935','toFixed','floor','27jvgnnG','hdTokenAddress','更新失败:\x20','交易被拒绝，请检查权限或参数是否正确','owner','insufficient\x20funds','transactionHash','_maxSellValue','不支持的代币类型','ether','max-sell-value','BSC测试网','授权成功!\x20交易hash:\x20','eth_requestAccounts','授权失败:\x20','contractAddress','User\x20denied','random-min-time','location','getChainId','length','eth','🟢\x20已连接','获取HD代币地址失败:','error','uint256','价格最小值必须小于最大值','请先连接钱包','用户取消了交易','info','sell-got-value','value','random-max-time','uint256[]','textContent','buy-cost-value','交易成功:','0xC13C41Ea58bc1457d4d3A03bd17eC4Ec5b892eD5','Contract','router-address','disabled','授权交易成功:','时间间隔最小值必须小于最大值','min-sell-value','addrParam','display','加载参数失败:','spender','621906PPLXxo','_maxBuyValue','合约地址:','request','chainChanged','11800360kzPCHn','0x60ffD33C33AE05d4f535e51117C9040000000000','test','connection-status','revert','getAllParams','utils','message-area','679911bxHgaC','2EOUSnx','revoke-usdt-btn'];a0_0x9aa3=function(){return _0xb2bdb2;};return a0_0x9aa3();}async function loadParams(){const _0x556555=a0_0x371578;if(!contract){showMessage(_0x556555(0x226),_0x556555(0x223));return;}try{showLoading(!![]);const _0x290bf1=await contract[_0x556555(0x1ce)][_0x556555(0x245)]()[_0x556555(0x1bd)](),_0x1370bd=_0x290bf1[0x0],_0x41f4df=_0x290bf1[0x1];console[_0x556555(0x1bb)]('合约参数:',{'uintParam':_0x1370bd,'addrParam':_0x41f4df}),fundingAddress=_0x41f4df;const _0x4e05b0=document[_0x556555(0x1f1)](_0x556555(0x1c2));_0x4e05b0&&_0x41f4df&&(_0x4e05b0[_0x556555(0x22d)]=_0x41f4df[_0x556555(0x1c5)](0x0,0x6)+_0x556555(0x1d7)+_0x41f4df[_0x556555(0x1c5)](0x26));const _0x450a85=document[_0x556555(0x1f1)](_0x556555(0x232));_0x450a85&&(_0x450a85['textContent']=CONTRACT_CONFIG[_0x556555(0x21a)][_0x556555(0x1c5)](0x0,0x6)+'...'+CONTRACT_CONFIG['contractAddress'][_0x556555(0x1c5)](0x26));try{const _0x1480a8=CONTRACT_CONFIG[_0x556555(0x242)]?CONTRACT_CONFIG[_0x556555(0x1d2)]:CONTRACT_CONFIG[_0x556555(0x203)];hdTokenAddress=_0x1480a8[_0x556555(0x20c)],usdtContract=new web3[(_0x556555(0x220))]['Contract'](ERC20_ABI,_0x1480a8['usdtAddress']),hdTokenContract=new web3[(_0x556555(0x220))][(_0x556555(0x231))](ERC20_ABI,hdTokenAddress),console['log']('HD代币地址:',hdTokenAddress),updateAuthButtons();}catch(_0xab357a){console[_0x556555(0x223)](_0x556555(0x222),_0xab357a);}document[_0x556555(0x1f1)](_0x556555(0x22e))[_0x556555(0x22d)]=parseFloat(web3[_0x556555(0x246)]['fromWei'](_0x1370bd[0x0],'ether'))['toFixed'](0x2),document[_0x556555(0x1f1)]('buy-got-tokens')[_0x556555(0x22d)]=parseFloat(web3[_0x556555(0x246)]['fromWei'](_0x1370bd[0x1],_0x556555(0x214)))[_0x556555(0x209)](0x2),document[_0x556555(0x1f1)](_0x556555(0x229))[_0x556555(0x22d)]=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0x2],_0x556555(0x214)))[_0x556555(0x209)](0x2),document[_0x556555(0x1f1)](_0x556555(0x1d5))['textContent']=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0x3],_0x556555(0x214)))[_0x556555(0x209)](0x2),document['getElementById'](_0x556555(0x24c))[_0x556555(0x22d)]=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0xd],_0x556555(0x214)))[_0x556555(0x209)](0x6),document[_0x556555(0x1f1)]('gas-value')['textContent']=parseFloat(web3[_0x556555(0x246)]['fromWei'](_0x1370bd[0x4],_0x556555(0x214)))[_0x556555(0x209)](0x2),document[_0x556555(0x1f1)](_0x556555(0x1c6))['value']=parseFloat(web3['utils'][_0x556555(0x1df)](_0x1370bd[0x5],_0x556555(0x214))),document[_0x556555(0x1f1)](_0x556555(0x1e0))[_0x556555(0x22a)]=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0x6],'ether')),document[_0x556555(0x1f1)](_0x556555(0x236))[_0x556555(0x22a)]=parseFloat(web3[_0x556555(0x246)]['fromWei'](_0x1370bd[0x7],'ether')),document[_0x556555(0x1f1)](_0x556555(0x215))[_0x556555(0x22a)]=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0x8],_0x556555(0x214))),document[_0x556555(0x1f1)](_0x556555(0x21c))[_0x556555(0x22a)]=_0x1370bd[0x9],document[_0x556555(0x1f1)](_0x556555(0x22b))[_0x556555(0x22a)]=_0x1370bd[0xa],document['getElementById']('min-price')['value']=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0xb],'ether')),document[_0x556555(0x1f1)](_0x556555(0x24b))[_0x556555(0x22a)]=parseFloat(web3[_0x556555(0x246)][_0x556555(0x1df)](_0x1370bd[0xc],_0x556555(0x214))),showMessage(_0x556555(0x1ba),'success');}catch(_0x31d78b){console[_0x556555(0x223)](_0x556555(0x239),_0x31d78b),showMessage(_0x556555(0x1fb)+_0x31d78b[_0x556555(0x1e4)],_0x556555(0x223));}finally{showLoading(![]);}}async function updateParams(){const _0x373880=a0_0x371578;if(!contract||!currentAccount){showMessage(_0x373880(0x226),_0x373880(0x223));return;}try{showLoading(!![]);const _0x4d1c6c=web3[_0x373880(0x246)][_0x373880(0x1cc)](document[_0x373880(0x1f1)](_0x373880(0x1c6))[_0x373880(0x22a)]||'0','ether'),_0x278e51=web3[_0x373880(0x246)][_0x373880(0x1cc)](document[_0x373880(0x1f1)](_0x373880(0x1e0))['value']||'0',_0x373880(0x214)),_0x57182c=web3[_0x373880(0x246)]['toWei'](document[_0x373880(0x1f1)](_0x373880(0x236))[_0x373880(0x22a)]||'0',_0x373880(0x214)),_0x2661c2=web3[_0x373880(0x246)][_0x373880(0x1cc)](document[_0x373880(0x1f1)](_0x373880(0x215))[_0x373880(0x22a)]||'0',_0x373880(0x214)),_0x26e267=web3['utils'][_0x373880(0x1cc)](document[_0x373880(0x1f1)](_0x373880(0x207))[_0x373880(0x22a)]||'0',_0x373880(0x214)),_0x2c5df0=web3['utils'][_0x373880(0x1cc)](document[_0x373880(0x1f1)]('max-price')[_0x373880(0x22a)]||'0','ether'),_0x1b64e3=document['getElementById'](_0x373880(0x21c))[_0x373880(0x22a)]||'0',_0x2b5677=document[_0x373880(0x1f1)](_0x373880(0x22b))[_0x373880(0x22a)]||'0';if(parseFloat(_0x4d1c6c)>=parseFloat(_0x278e51))throw new Error(_0x373880(0x1db));if(parseFloat(_0x57182c)>=parseFloat(_0x2661c2))throw new Error(_0x373880(0x1c0));if(parseFloat(_0x26e267)>=parseFloat(_0x2c5df0))throw new Error(_0x373880(0x225));if(parseInt(_0x1b64e3)>=parseInt(_0x2b5677))throw new Error(_0x373880(0x235));console['log']('更新参数:',{'minBuyValue':_0x4d1c6c,'maxBuyValue':_0x278e51,'minSellValue':_0x57182c,'maxSellValue':_0x2661c2,'minPrice':_0x26e267,'maxPrice':_0x2c5df0,'randomMinTime':_0x1b64e3,'randomMaxTime':_0x2b5677});const _0x29eb5a=await contract[_0x373880(0x1ce)]['setMarketParams'](_0x4d1c6c,_0x278e51,_0x57182c,_0x2661c2,_0x26e267,_0x2c5df0,_0x1b64e3,_0x2b5677)['estimateGas']({'from':currentAccount}),_0x406e38=await contract['methods'][_0x373880(0x1b8)](_0x4d1c6c,_0x278e51,_0x57182c,_0x2661c2,_0x26e267,_0x2c5df0,_0x1b64e3,_0x2b5677)[_0x373880(0x1e1)]({'from':currentAccount,'gas':Math[_0x373880(0x20a)](Number(_0x29eb5a)*1.2)});console['log'](_0x373880(0x22f),_0x406e38[_0x373880(0x211)]),showMessage(_0x373880(0x1b9)+_0x406e38[_0x373880(0x211)],_0x373880(0x1f4)),setTimeout(()=>{loadParams();},0x7d0);}catch(_0x4a205a){console[_0x373880(0x223)]('更新参数失败:',_0x4a205a);let _0x15fcfd=_0x4a205a[_0x373880(0x1e4)];if(_0x4a205a[_0x373880(0x1e4)]['includes'](_0x373880(0x244)))_0x15fcfd=_0x373880(0x20e);else{if(_0x4a205a['message']['includes']('insufficient\x20funds'))_0x15fcfd=_0x373880(0x1da);else _0x4a205a[_0x373880(0x1e4)][_0x373880(0x1b5)](_0x373880(0x21b))&&(_0x15fcfd=_0x373880(0x227));}showMessage(_0x373880(0x20d)+_0x15fcfd,_0x373880(0x223));}finally{showLoading(![]);}}function showLoading(_0x4b53a6){const _0x4b81b1=a0_0x371578,_0xac05d3=document['getElementById'](_0x4b81b1(0x1bf));_0xac05d3['style'][_0x4b81b1(0x238)]=_0x4b53a6?'block':_0x4b81b1(0x1c4);}function showMessage(_0x13a3aa,_0x510f34=a0_0x371578(0x228)){const _0x3a0964=a0_0x371578,_0x58c3a3=document[_0x3a0964(0x1f1)](_0x3a0964(0x247)),_0x273d05=_0x510f34===_0x3a0964(0x223)?_0x3a0964(0x223):_0x510f34===_0x3a0964(0x1f4)?_0x3a0964(0x1f4):_0x3a0964(0x228);_0x58c3a3[_0x3a0964(0x1f2)]='<div\x20class=\x22'+_0x273d05+'\x22>'+_0x13a3aa+_0x3a0964(0x1fa),setTimeout(()=>{_0x58c3a3['innerHTML']='';},0x1f40);}function formatAddress(_0x2a2340){const _0x5b52e6=a0_0x371578;if(!_0x2a2340)return'';return _0x2a2340[_0x5b52e6(0x1c5)](0x0,0x6)+_0x5b52e6(0x1d7)+_0x2a2340[_0x5b52e6(0x1c5)](0x26);}function formatNumber(_0x5515a0,_0x24ddaa=0x2){if(!_0x5515a0)return'0';return parseFloat(_0x5515a0)['toFixed'](_0x24ddaa);}function a0_0x2029(_0x586a6c,_0x34ea2c){const _0x9aa3c=a0_0x9aa3();return a0_0x2029=function(_0x202978,_0x153311){_0x202978=_0x202978-0x1b5;let _0x79b1b6=_0x9aa3c[_0x202978];return _0x79b1b6;},a0_0x2029(_0x586a6c,_0x34ea2c);}function updateAuthButtons(){const _0x3561d6=a0_0x371578,_0x56b127=document[_0x3561d6(0x1f1)](_0x3561d6(0x1fe)),_0x3879a2=document[_0x3561d6(0x1f1)](_0x3561d6(0x1d6)),_0x3cf447=document[_0x3561d6(0x1f1)](_0x3561d6(0x24a)),_0x46ec73=document[_0x3561d6(0x1f1)]('revoke-hd-btn'),_0x1e8d7c=!!currentAccount,_0x57b265=currentAccount&&fundingAddress&&currentAccount[_0x3561d6(0x1fc)]()===fundingAddress[_0x3561d6(0x1fc)]();if(_0x56b127)_0x56b127[_0x3561d6(0x233)]=!_0x57b265;if(_0x3879a2)_0x3879a2[_0x3561d6(0x233)]=!_0x57b265;if(_0x3cf447)_0x3cf447[_0x3561d6(0x233)]=!_0x1e8d7c;if(_0x46ec73)_0x46ec73[_0x3561d6(0x233)]=!_0x1e8d7c;}async function approveToken(_0x431585){const _0x317e32=a0_0x371578;if(!currentAccount||!fundingAddress){showMessage(_0x317e32(0x1c3),_0x317e32(0x223));return;}if(currentAccount[_0x317e32(0x1fc)]()!==fundingAddress[_0x317e32(0x1fc)]()){showMessage('只有资金地址可以进行授权操作',_0x317e32(0x223));return;}try{showLoading(!![]);let _0x4bc5b5,_0x591ef4;if(_0x431585===_0x317e32(0x1c1))_0x4bc5b5=usdtContract,_0x591ef4='USDT';else{if(_0x431585==='HD')_0x4bc5b5=hdTokenContract,_0x591ef4=_0x317e32(0x1ca);else throw new Error(_0x317e32(0x213));}if(!_0x4bc5b5)throw new Error(_0x591ef4+'合约未初始化');console[_0x317e32(0x1bb)](_0x317e32(0x1f6)+_0x591ef4+'...'),console[_0x317e32(0x1bb)]('Spender地址:',CONTRACT_CONFIG['contractAddress']),console[_0x317e32(0x1bb)](_0x317e32(0x1e9),MAX_UINT256);const _0x31bd41=await _0x4bc5b5['methods'][_0x317e32(0x1ec)](CONTRACT_CONFIG[_0x317e32(0x21a)],MAX_UINT256)[_0x317e32(0x1c8)]({'from':currentAccount}),_0xd02e68=await _0x4bc5b5['methods']['approve'](CONTRACT_CONFIG['contractAddress'],MAX_UINT256)[_0x317e32(0x1e1)]({'from':currentAccount,'gas':Math[_0x317e32(0x20a)](Number(_0x31bd41)*1.2)});console[_0x317e32(0x1bb)](_0x591ef4+_0x317e32(0x234),_0xd02e68['transactionHash']),showMessage(_0x591ef4+_0x317e32(0x217)+_0xd02e68[_0x317e32(0x211)][_0x317e32(0x1c5)](0x0,0xa)+'...',_0x317e32(0x1f4));}catch(_0x4afbb4){console[_0x317e32(0x223)]('授权'+_0x431585+'失败:',_0x4afbb4);let _0x56b210=_0x4afbb4[_0x317e32(0x1e4)];if(_0x4afbb4[_0x317e32(0x1e4)][_0x317e32(0x1b5)](_0x317e32(0x21b)))_0x56b210=_0x317e32(0x227);else _0x4afbb4['message'][_0x317e32(0x1b5)](_0x317e32(0x210))&&(_0x56b210='BNB余额不足，请充值后重试');showMessage(_0x317e32(0x219)+_0x56b210,'error');}finally{showLoading(![]);}}async function revokeToken(_0x2a91b5){const _0x5b853b=a0_0x371578;if(!currentAccount){showMessage('请先连接钱包',_0x5b853b(0x223));return;}try{showLoading(!![]);let _0x2c3d5b,_0x557a8e;if(_0x2a91b5===_0x5b853b(0x1c1))_0x2c3d5b=usdtContract,_0x557a8e=_0x5b853b(0x1c1);else{if(_0x2a91b5==='HD')_0x2c3d5b=hdTokenContract,_0x557a8e=_0x5b853b(0x1ca);else throw new Error(_0x5b853b(0x213));}if(!_0x2c3d5b)throw new Error(_0x557a8e+'合约未初始化');console['log']('开始取消'+_0x557a8e+'授权...'),console[_0x5b853b(0x1bb)]('Spender地址:',CONTRACT_CONFIG[_0x5b853b(0x21a)]);const _0x53bf53=await _0x2c3d5b[_0x5b853b(0x1ce)][_0x5b853b(0x1ec)](CONTRACT_CONFIG[_0x5b853b(0x21a)],'0')[_0x5b853b(0x1c8)]({'from':currentAccount}),_0x4ff0de=await _0x2c3d5b[_0x5b853b(0x1ce)][_0x5b853b(0x1ec)](CONTRACT_CONFIG['contractAddress'],'0')[_0x5b853b(0x1e1)]({'from':currentAccount,'gas':Math[_0x5b853b(0x20a)](Number(_0x53bf53)*1.2)});console['log'](_0x557a8e+_0x5b853b(0x206),_0x4ff0de[_0x5b853b(0x211)]),showMessage(_0x557a8e+_0x5b853b(0x1ff)+_0x4ff0de['transactionHash'][_0x5b853b(0x1c5)](0x0,0xa)+_0x5b853b(0x1d7),_0x5b853b(0x1f4));}catch(_0x37c78d){console['error'](_0x5b853b(0x1bc)+_0x2a91b5+'失败:',_0x37c78d);let _0x2bc08e=_0x37c78d['message'];if(_0x37c78d[_0x5b853b(0x1e4)]['includes'](_0x5b853b(0x21b)))_0x2bc08e=_0x5b853b(0x227);else _0x37c78d[_0x5b853b(0x1e4)][_0x5b853b(0x1b5)](_0x5b853b(0x210))&&(_0x2bc08e='BNB余额不足，请充值后重试');showMessage('取消授权失败:\x20'+_0x2bc08e,'error');}finally{showLoading(![]);}}
